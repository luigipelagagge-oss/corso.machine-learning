<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <title>Lezione 6: Regressione Polinomiale - Il Diodo</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .header {
            background: linear-gradient(135deg, #9b59b6, #8e44ad);
            color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            color: white;
            margin-bottom: 10px;
        }
        
        .nav {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .nav a {
            display: inline-block;
            margin: 0 10px;
            padding: 10px 20px;
            background: #9b59b6;
            color: white;
            text-decoration: none;
            border-radius: 5px;
        }
        
        .content {
            background: white;
            padding: 30px;
            border-radius: 8px;
        }
        
        h2 {
            color: #2c3e50;
            border-bottom: 2px solid #9b59b6;
            padding-bottom: 10px;
            margin-top: 30px;
        }
        
        .box {
            background: #f4ecf7;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #9b59b6;
            border-radius: 5px;
        }
        
        .box.warning {
            background: #fff3cd;
            border-left-color: #ffc107;
        }
        
        .box.danger {
            background: #fde8e8;
            border-left-color: #e74c3c;
        }
        
        .box.success {
            background: #d4edda;
            border-left-color: #28a745;
        }
        
        .code {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            font-family: 'Courier New', monospace;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            color: #7f8c8d;
            font-size: 0.9em;
        }
        
        .step {
            background: #f4ecf7;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
            border-left: 3px solid #9b59b6;
        }
        
        .comparison {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin: 30px 0;
        }
        
        .comparison-item {
            background: white;
            padding: 20px;
            border-radius: 8px;
            width: 45%;
            min-width: 300px;
            margin: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .diode-graph {
            text-align: center;
            margin: 30px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border: 2px solid #9b59b6;
        }
        
        .graph-axis {
            position: relative;
            height: 200px;
            margin: 20px auto;
            width: 300px;
            border-left: 2px solid #333;
            border-bottom: 2px solid #333;
        }
        
        .linear-line {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 2px;
            background: #e74c3c;
            transform: rotate(30deg);
            transform-origin: left;
        }
        
        .exp-line {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 100px;
            border-top: 2px solid #3498db;
            border-radius: 0 100% 0 0;
        }
        
        .formula {
            text-align: center;
            font-size: 1.2em;
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            font-family: 'Cambria', 'Times New Roman', serif;
            border: 2px solid #9b59b6;
        }
        
        .oscillation {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: repeating-linear-gradient(
                45deg,
                #fde8e8,
                #fde8e8 10px,
                #f9d6d6 10px,
                #f9d6d6 20px
            );
            border-radius: 8px;
            color: #c0392b;
            font-weight: bold;
        }
        
        .parameter-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        
        .parameter-table th, .parameter-table td {
            border: 1px solid #ddd;
            padding: 10px;
            text-align: left;
        }
        
        .parameter-table th {
            background: #9b59b6;
            color: white;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>üåÄ Lezione 6: Oltre la Linearit√†</h1>
        <p>Modellare il Diodo e la Regressione Polinomiale</p>
        <p><strong>Laboratorio di Sistemi e Automazione</strong></p>
    </div>
    
    <div class="nav">
        <a href="lezione5.html">‚Üê Lezione 5</a>
        <a href="#problema">Il Problema</a>
        <a href="#polinomiale">Regressione Polinomiale</a>
        <a href="#implementazione">Implementazione</a>
        <a href="#oscillazioni">Oscillazioni</a>
        <a href="Python_6.pdf" target="_blank">üìÑ PDF Originale</a>
        <a href="lezione7.html">Lezione 7 ‚Üí</a>
    </div>
    
    <div class="content">
        <h2 id="problema">üéØ Il Problema: Quando Ohm non basta</h2>
        <p>Fino ad ora abbiamo analizzato resistori, che seguono la Legge di Ohm (V = R ¬∑ I). La relazione √® una <strong>linea retta</strong>.</p>
        
        <div class="box warning">
            <h3>‚ö†Ô∏è Ma in elettronica, i componenti pi√π interessanti sono <strong>Non-Lineari</strong>.</h3>
            <p>Oggi analizzeremo un <strong>DIODO</strong>. La sua corrente non cresce in modo proporzionale alla tensione.</p>
        </div>
        
        <h3>üî¨ Equazione di Shockley del Diodo:</h3>
        <div class="formula">
            I = I‚Çõ ¬∑ (e^(V/(n¬∑V‚Çú)) - 1)
        </div>
        
        <div class="parameter-table">
            <tr>
                <th>Parametro</th>
                <th>Significato</th>
                <th>Valore Tipico</th>
            </tr>
            <tr>
                <td><strong>I‚Çõ</strong></td>
                <td>Corrente di saturazione inversa</td>
                <td>1 pA (piccolissima)</td>
            </tr>
            <tr>
                <td><strong>V‚Çú</strong></td>
                <td>Tensione termica</td>
                <td>‚âà 26mV a 300K</td>
            </tr>
            <tr>
                <td><strong>n</strong></td>
                <td>Fattore di idealit√†</td>
                <td>1 (diodo ideale)</td>
            </tr>
        </div>
        
        <div class="diode-graph">
            <h3>üìà Comportamento del Diodo</h3>
            <div class="graph-axis">
                <div class="linear-line" title="Retta (Errore!)"></div>
                <div class="exp-line" title="Esponenziale (Diodo)"></div>
            </div>
            <p><em>Figura 1: Una linea retta non pu√≤ approssimare una curva esponenziale</em></p>
        </div>
        
        <div class="box danger">
            <h3>‚ùå Se provassimo a usare LinearRegression (una retta) su un diodo:</h3>
            <p>Otteniamo un <strong>disastro</strong>! La retta ignora completamente la fisica del componente.</p>
        </div>
        
        <h2 id="polinomiale">üîß La Soluzione: Regressione Polinomiale</h2>
        <p>Come facciamo a insegnare alla macchina a 'curvare'?</p>
        
        <div class="box">
            <h3>üéØ Usiamo un trucco matematico chiamato <strong>Polynomial Features</strong>:</h3>
            <p>Invece di dare alla macchina solo la tensione <em>V</em>, le diamo anche le sue potenze:</p>
            <div class="formula">
                Input = [V, V¬≤, V¬≥, ...]
            </div>
            <p>√à come dire alla macchina: 'Non cercare solo una retta, cerca una curva che combina parabole (x¬≤) e cubiche (x¬≥)'.</p>
        </div>
        
        <div class="comparison">
            <div class="comparison-item">
                <h3>üìê Regressione Lineare</h3>
                <div style="font-size: 3em;">üìà</div>
                <p><strong>Equazione:</strong> y = a + bx</p>
                <p><strong>Applicazione:</strong> Resistori lineari</p>
                <p><strong>Limite:</strong> Solo rette</p>
            </div>
            
            <div class="comparison-item">
                <h3>üåÄ Regressione Polinomiale</h3>
                <div style="font-size: 3em;">üìä</div>
                <p><strong>Equazione:</strong> y = a + bx + cx¬≤ + dx¬≥ + ...</p>
                <p><strong>Applicazione:</strong> Diodi, transistor</p>
                <p><strong>Vantaggio:</strong> Curve complesse</p>
            </div>
        </div>
        
        <h2 id="implementazione">üíª Implementazione in Python</h2>
        
        <div class="step">
            <h3>1. Generazione Dati (Simulazione Diodo)</h3>
        </div>
        
        <div class="code">
import numpy as np
import matplotlib.pyplot as plt

# Dati di Tensione (Input) da 0V a 0.8V
V = np.linspace(0, 0.8, 20).reshape(-1, 1)

# Parametri fisici del diodo
Is = 1e-12  # 1 picoampere
Vt = 0.026  # 26 millivolt
n = 1       # Fattore di idealit√†

# Equazione di Shockley (Output Corrente)
I = Is * (np.exp(V / (n * Vt)) - 1)

# Aggiungiamo rumore casuale (errori di misura reali)
I_noise = I + np.random.normal(0, 0.0005, size=I.shape)

print("Dati diodo simulati con successo!")
        </div>
        
        <div class="step">
            <h3>2. La Magia: Trasformazione Polinomiale</h3>
        </div>
        
        <div class="code">
from sklearn.preprocessing import PolynomialFeatures
from sklearn.linear_model import LinearRegression
from sklearn.pipeline import make_pipeline

# Creiamo un modello "Intelligente" che prima eleva alla potenza (grado 5)
# e POI applica la regressione lineare su quei dati curvi
grado = 5
modello_diodo = make_pipeline(PolynomialFeatures(grado), LinearRegression())

# Addestriamo il modello sui dati rumorosi
modello_diodo.fit(V, I_noise)

# Facciamo una predizione (disegniamo la curva appresa)
I_predetto = modello_diodo.predict(V)

print(f"Modello polinomiale di grado {grado} creato e addestrato!")
        </div>
        
        <div class="step">
            <h3>3. Visualizzazione: Retta vs Curva</h3>
        </div>
        
        <div class="code">
plt.scatter(V, I_noise, color='black', label='Dati Lab')
plt.plot(V, I_predetto, color='red', linewidth=2, label=f'Modello Polinomiale (Grado {grado})')

plt.title("Caratteristica I-V del Diodo")
plt.xlabel("Tensione V [Volt]")
plt.ylabel("Corrente I [Ampere]")
plt.legend()
plt.grid(True)
plt.show()
        </div>
        
        <div class="diode-graph">
            <h3>üé® Risultato Atteso del Grafico</h3>
            <div style="height: 150px; background: linear-gradient(to right, 
                #000 0%, #000 10%, 
                #e74c3c 10%, #e74c3c 100%
            ); border-radius: 5px; margin: 20px auto; position: relative;">
                <div style="position: absolute; top: 50%; left: 10%; transform: translate(-50%, -50%); 
                           color: white; font-weight: bold;">‚óè Dati Lab</div>
                <div style="position: absolute; top: 30%; right: 30%; color: #e74c3c; font-weight: bold;">
                    ‚Ü∑ Curva Polinomiale
                </div>
            </div>
            <p><em>La curva rossa si adatta perfettamente ai dati del diodo</em></p>
        </div>
        
        <h2 id="oscillazioni">‚ö†Ô∏è Analisi Critica: Le "Oscillazioni Fantasma"</h2>
        
        <div class="oscillation">
            <div style="font-size: 2em;">üåä</div>
            <p>Osserva attentamente la linea rossa nel grafico generato, specialmente tra 0V e 0.6V</p>
        </div>
        
        <div class="box danger">
            <h3>üîç Cosa notiamo di strano?</h3>
            <ul>
                <li>La linea <strong>non √® piatta a zero</strong></li>
                <li>Fa delle <strong>piccole onde (oscillazioni)</strong></li>
                <li>A volte scende addirittura <strong>sotto lo zero</strong> (Corrente negativa?!)</li>
            </ul>
        </div>
        
        <h3>ü§î Perch√© succede?</h3>
        
        <div class="box">
            <p>In Elettronica sappiamo che sotto la soglia <strong>I ‚âà 0</strong>.</p>
            <p>Ma la macchina <strong>non sa cos'√® un diodo</strong>.</p>
            <p>La macchina sta solo cercando di piegare una curva matematica (un polinomio) per unire i punti.</p>
        </div>
        
        <div class="comparison">
            <div class="comparison-item">
                <h3>üß† Conoscenza Fisica</h3>
                <div style="font-size: 3em;">‚ö°</div>
                <p>‚Ä¢ Sotto 0.6V: I = 0</p>
                <p>‚Ä¢ Sopra 0.6V: crescita esponenziale</p>
                <p>‚Ä¢ Fisicamente corretto</p>
            </div>
            
            <div class="comparison-item">
                <h3>ü§ñ Modello Matematico Puro</h3>
                <div style="font-size: 3em;">üìê</div>
                <p>‚Ä¢ Minimizza l'errore sui dati</p>
                <p>‚Ä¢ Non conosce vincoli fisici</p>
                <p>‚Ä¢ Produce oscillazioni non fisiche</p>
            </div>
        </div>
        
        <div class="box">
            <h3>üéØ Per riuscire a fare quella curva ripida finale (il 'ginocchio'),</h3>
            <p>il polinomio <strong>'prende la rincorsa'</strong> e oscilla nella parte iniziale.</p>
            <p>√à come cercare di disegnare una curva molto ripida con un polinomio: per "salire" velocemente, deve prima "scendere".</p>
        </div>
        
        <h2>üß† Conclusione: Il Ruolo dell'Ingegnere</h2>
        
        <div class="box warning" style="text-align: center;">
            <h3 style="font-size: 1.5em;">Abbiamo scoperto un limite fondamentale dell'AI pura:</h3>
            <div style="font-size: 2em; margin: 15px 0;">La Matematica non conosce la Fisica</div>
        </div>
        
        <div class="box">
            <p>L'algoritmo ci propone valori di corrente negativi o oscillanti prima della soglia di accensione.</p>
            <p>Un <strong>Data Scientist puro</strong> potrebbe accettarli, ma un <strong>Elettronico sa che sono impossibili</strong>.</p>
        </div>
        
        <h2>üöÄ Prossimo Step: Il Modello Ibrido</h2>
        
        <div class="box success">
            <h3>üîß Tocca a noi intervenire!</h3>
            <p>Dobbiamo "filtrare" il modello matematico imponendo le nostre conoscenze fisiche (Logic-Constraint):</p>
            <div style="text-align: center; margin: 15px 0; padding: 15px; background: white; border-radius: 5px;">
                <strong>"Se la tensione √® sotto la soglia, la corrente DEVE essere zero, qualunque cosa dica il polinomio"</strong>
            </div>
            <p style="text-align: center; margin-top: 15px;">
                <a href="lezione7.html" style="background: #3498db; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block;">
                    Vai alla Lezione 7: Il Modello Ibrido (Fisica + AI) ‚Üí
                </a>
            </p>
        </div>
        
        <h2>üìã Riassunto Apprendimenti</h2>
        <div class="box">
            <h3>‚úÖ Cosa abbiamo imparato oggi:</h3>
            <table style="width: 100%; border-collapse: collapse;">
                <tr>
                    <td style="padding: 10px; border-bottom: 1px solid #ddd;"><strong>Componenti Non-Lineari</strong></td>
                    <td style="padding: 10px; border-bottom: 1px solid #ddd;">Diodi seguono equazione esponenziale</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border-bottom: 1px solid #ddd;"><strong>Regressione Polinomiale</strong></td>
                    <td style="padding: 10px; border-bottom: 1px solid #ddd;">Approccio curve complesse</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border-bottom: 1px solid #ddd;"><strong>PolynomialFeatures</strong></td>
                    <td style="padding: 10px; border-bottom: 1px solid #ddd;">Trasforma input in potenze</td>
                </tr>
                <tr>
                    <td style="padding: 10px; border-bottom: 1px solid #ddd;"><strong>Limiti AI Pura</strong></td>
                    <td style="padding: 10px; border-bottom: 1px solid #ddd;">Oscillazioni non fisiche</td>
                </tr>
                <tr>
                    <td style="padding: 10px;"><strong>Necessit√† Modelli Ibridi</strong></td>
                    <td style="padding: 10px;">Fisica + Matematica</td>
                </tr>
            </table>
        </div>
        
        <div class="box info">
            <h3>üí° Concetto Chiave da Ricordare:</h3>
            <p style="text-align: center;"><strong>Nessun algoritmo di Machine Learning conosce la fisica del problema. Tocca all'ingegnere imporre i vincoli fisici.</strong></p>
        </div>
    </div>
    
    <div class="footer">
        <p>Laboratorio di Sistemi e Automazione - ML per Elettronica</p>
        <p>Lezione 6: Regressione Polinomiale e Diodo</p>
        <p>
            <a href="lezione5.html">‚Üê Lezione 5</a> | 
            <a href="Python_6.pdf" target="_blank">üìÑ Scarica PDF Lezione 6</a> | 
            <a href="lezione7.html">Lezione 7 ‚Üí</a>
        </p>
    </div>
</body>
</html>